(function(){function t(t){return t?t/Math.sin(t):1}function a(t){return t>0?1:0>t?-1:0}function n(t){return t>1?$a/2:-1>t?-$a/2:Math.asin(t)}function r(t){return t>1?0:-1>t?$a:Math.acos(t)}function e(t){return t>0?Math.sqrt(t):0}function o(t){function a(t,a){var n=Math.cos(t),r=Math.cos(a),o=Math.sin(a),h=r*n,i=-((1-h?Math.log(.5*(1+h))/(1-h):-.5)+e/(1+h));return[i*r*Math.sin(t),i*o]}var r=Math.tan(.5*t),e=2*Math.log(Math.cos(.5*t))/(r*r);return a.invert=function(a,r){var o,h=Math.sqrt(a*a+r*r),i=t*-.5,u=50;if(!h)return[0,0];do{var M=.5*i,s=Math.cos(M),c=Math.sin(M),f=Math.tan(M),v=Math.log(1/s);i-=o=(2/f*v-e*f-h)/(-v/(c*c)+1-e/(2*s*s))}while(Math.abs(o)>Ya&&--u>0);var l=Math.sin(i);return[Math.atan2(a*l,h*Math.cos(i)),n(r*l/h)]},a}function h(){var t=$a/2,a=en(o),n=a(t);return n.radius=function(n){return arguments.length?a(t=n*$a/180):180*(t/$a)},n}function i(a,n){var e=Math.cos(n),o=t(r(e*Math.cos(a/=2)));return[2*e*Math.sin(a)*o,Math.sin(n)*o]}function u(t){function a(t,a){var i=Math.cos(a),u=Math.cos(t/=2);return[(1+i)*Math.sin(t),(e*a>-Math.atan2(u,o)-.001?0:10*-e)+h+Math.sin(a)*r-(1+i)*n*u]}var n=Math.sin(t),r=Math.cos(t),e=t>0?1:-1,o=Math.tan(e*t),h=(1+n-r)/2;return a.invert=function(t,a){var i=0,u=0,M=50;do{var s=Math.cos(i),c=Math.sin(i),f=Math.cos(u),v=Math.sin(u),l=1+f,g=l*c-t,d=h+v*r-l*n*s-a,b=.5*l*s,q=-c*v,w=.5*n*l*c,m=r*f+n*s*v,p=q*w-m*b,S=.5*(d*q-g*m)/p,Q=(g*w-d*b)/p;i-=S,u-=Q}while((Math.abs(S)>Ya||Math.abs(Q)>Ya)&&--M>0);return e*u>-Math.atan2(Math.cos(i),o)-.001?[2*i,u]:null},a}function M(){var t=$a/9,a=t>0?1:-1,n=Math.tan(a*t),r=en(u),e=r(t),o=e.stream;return e.parallel=function(e){return arguments.length?(n=Math.tan((a=(t=e*$a/180)>0?1:-1)*t),r(t)):180*(t/$a)},e.stream=function(r){var h=e.rotate(),i=o(r),u=(e.rotate([0,0]),o(r));return e.rotate(h),i.sphere=function(){u.polygonStart(),u.lineStart();for(var r=-180*a;180>a*r;r+=90*a)u.point(r,90*a);for(;a*(r-=t)>=-180;)u.point(r,a*-Math.atan2(Math.cos(r*an/2),n)*nn);u.lineEnd(),u.polygonEnd()},i},e}function s(t){return t=Math.exp(2*t),(t-1)/(t+1)}function c(t){return.5*(Math.exp(t)-Math.exp(-t))}function f(t){return.5*(Math.exp(t)+Math.exp(-t))}function v(t){return Math.log(t+e(t*t+1))}function l(t){return Math.log(t+e(t*t-1))}function g(t,a){var n=Math.tan(a/2),r=e(1-n*n),o=1+r*Math.cos(t/=2),h=Math.sin(t)*r/o,i=n/o,u=h*h,M=i*i;return[4/3*h*(3+u-3*M),4/3*i*(3+3*u-M)]}function d(t,n){var r=Math.abs(n);return $a/4>r?[t,Math.log(Math.tan($a/4+n/2))]:[t*Math.cos(r)*(2*Math.SQRT2-1/Math.sin(r)),a(n)*(2*Math.SQRT2*(r-$a/4)-Math.log(Math.tan(r/2)))]}function b(t){function a(t,a){var e=hn(t,a);if(Math.abs(t)>$a/2){var o=Math.atan2(e[1],e[0]),h=Math.sqrt(e[0]*e[0]+e[1]*e[1]),i=r*Math.round((o-$a/2)/r)+$a/2,u=Math.atan2(Math.sin(o-=i),2-Math.cos(o));o=i+n($a/h*Math.sin(u))-u,e[0]=h*Math.cos(o),e[1]=h*Math.sin(o)}return e}var r=2*$a/t;return a.invert=function(t,a){var n=Math.sqrt(t*t+a*a);if(n>$a/2){var e=Math.atan2(a,t),o=r*Math.round((e-$a/2)/r)+$a/2,h=e>o?-1:1,i=n*Math.cos(o-e),u=1/Math.tan(h*Math.acos((i-$a)/Math.sqrt($a*($a-2*i)+n*n)));e=o+2*Math.atan((u+h*Math.sqrt(u*u-3))/3),t=n*Math.cos(e),a=n*Math.sin(e)}return hn.invert(t,a)},a}function q(){var t=5,a=en(b),n=a(t),r=n.stream;return n.lobes=function(n){return arguments.length?a(t=+n):t},n.stream=function(a){var e=n.rotate(),o=r(a),h=(n.rotate([0,0]),r(a));return n.rotate(e),o.sphere=function(){h.polygonStart(),h.lineStart();for(var a=.01,n=0,r=360/t,e=90-180/t;t>n;++n,e-=r)h.point(180,0),-90>e?(h.point(-90,180-e-a),h.point(-90,180-e+a)):(h.point(90,e+a),h.point(90,e-a));h.lineEnd(),h.polygonEnd()},o},n}function w(t){return function(a){var n,r=t*Math.sin(a),e=30;do a-=n=(a+Math.sin(a)-r)/(1+Math.cos(a));while(Math.abs(n)>Ya&&--e>0);return a/2}}function m(t,a,r){function e(n,r){return[t*n*Math.cos(r=o(r)),a*Math.sin(r)]}var o=w(r);return e.invert=function(e,o){var h=n(o/a);return[e/(t*Math.cos(h)),n((2*h+Math.sin(2*h))/r)]},e}function p(t,a){var n=2.00276,r=un(a);return[n*t/(1/Math.cos(a)+1.11072/Math.cos(r)),(a+Math.SQRT2*Math.sin(r))/n]}function S(t){var a=0,n=en(t),r=n(a);return r.parallel=function(t){return arguments.length?n(a=t*$a/180):180*(a/$a)},r}function Q(t,a){return[t*Math.cos(a),a]}function R(t){function a(a,r){var e=n+t-r,o=e?a*Math.cos(r)/e:e;return[e*Math.sin(o),n-e*Math.cos(o)]}if(!t)return Q;var n=1/Math.tan(t);return a.invert=function(a,r){var e=Math.sqrt(a*a+(r=n-r)*r),o=n+t-e;return[e/Math.cos(o)*Math.atan2(a,r),o]},a}function T(t){function a(a,n){for(var r=Math.sin(n),e=Math.cos(n),o=Array(3),M=0;3>M;++M){var s=t[M];if(o[M]=x(n-s[1],s[3],s[2],e,r,a-s[0]),!o[M][0])return s.point;o[M][1]=E(o[M][1]-s.v[1])}for(var c=u.slice(),M=0;3>M;++M){var f=2==M?0:M+1,v=k(t[M].v[0],o[M][0],o[f][0]);o[M][1]<0&&(v=-v),M?1==M?(v=h-v,c[0]-=o[M][0]*Math.cos(v),c[1]-=o[M][0]*Math.sin(v)):(v=i-v,c[0]+=o[M][0]*Math.cos(v),c[1]+=o[M][0]*Math.sin(v)):(c[0]+=o[M][0]*Math.cos(v),c[1]-=o[M][0]*Math.sin(v))}return c[0]/=3,c[1]/=3,c}t=t.map(function(t){return[t[0],t[1],Math.sin(t[1]),Math.cos(t[1])]});for(var n,r=t[2],e=0;3>e;++e,r=n)n=t[e],r.v=x(n[1]-r[1],r[3],r[2],n[3],n[2],n[0]-r[0]),r.point=[0,0];var o=k(t[0].v[0],t[2].v[0],t[1].v[0]),h=k(t[0].v[0],t[1].v[0],t[2].v[0]),i=$a-o;t[2].point[1]=0,t[0].point[0]=-(t[1].point[0]=.5*t[0].v[0]);var u=[t[2].point[0]=t[0].point[0]+t[2].v[0]*Math.cos(o),2*(t[0].point[1]=t[1].point[1]=t[2].v[0]*Math.sin(o))];return a}function y(){var t=[[0,0],[0,0],[0,0]],a=en(T),n=a(t),r=n.rotate;return delete n.rotate,n.points=function(e){if(!arguments.length)return t;t=e;var o=d3.geo.centroid({type:"MultiPoint",coordinates:t}),h=[-o[0],-o[1]];return r.call(n,h),a(t.map(d3.geo.rotation(h)).map(_))},n.points([[-150,55],[-35,55],[-92.5,10]])}function x(t,a,e,o,h,i){var u,M=Math.cos(i);if(Math.abs(t)>1||Math.abs(i)>1)u=r(e*h+a*o*M);else{var s=Math.sin(.5*t),c=Math.sin(.5*i);u=2*n(Math.sqrt(s*s+a*o*c*c))}return Math.abs(u)>Ya?[u,Math.atan2(o*Math.sin(i),a*h-e*o*M)]:[0,0]}function k(t,a,n){return r(.5*(t*t+a*a-n*n)/(t*a))}function E(t){return t-2*$a*Math.floor((t+$a)/(2*$a))}function _(t){return[t[0]*an,t[1]*an]}function P(t,a){var n=e(1-Math.sin(a));return[2/tn*t*n,tn*(1-n)]}function z(t){function a(t,a){return[t,(t?t/Math.sin(t):1)*(Math.sin(a)*Math.cos(t)-r*Math.cos(a))]}var r=Math.tan(t);return a.invert=r?function(t,a){t&&(a*=Math.sin(t)/t);var n=Math.cos(t);return[t,2*Math.atan2(Math.sqrt(n*n+r*r-a*a)-n,r-a)]}:function(t,a){return[t,n(t?a*Math.tan(t)/t:a)]},a}function B(t,a){var n=Math.sqrt(3);return[n*t*(2*Math.cos(2*a/3)-1)/tn,n*tn*Math.sin(a/3)]}function A(t){function a(t,a){return[t*r,Math.sin(a)/r]}var r=Math.cos(t);return a.invert=function(t,a){return[t/r,n(a*r)]},a}function D(t){function a(t,a){return[t*n,(1+n)*Math.tan(.5*a)]}var n=Math.cos(t);return a.invert=function(t,a){return[t/n,Math.atan(a/(1+n))*2]},a}function G(t,a){var n=Math.sqrt(8/(3*$a));return[n*t*(1-Math.abs(a)/$a),n*a]}function j(t,n){var r=Math.sqrt(4-3*Math.sin(Math.abs(n)));return[2/Math.sqrt(6*$a)*t*r,a(n)*Math.sqrt(2*$a/3)*(2-r)]}function F(t,a){var n=Math.sqrt($a*(4+$a));return[2/n*t*(1+Math.sqrt(1-4*a*a/($a*$a))),4/n*a]}function H(t,a){var n=(2+$a/2)*Math.sin(a);a/=2;for(var r=0,e=1/0;10>r&&Math.abs(e)>Ya;r++){var o=Math.cos(a);a-=e=(a+Math.sin(a)*(o+2)-n)/(2*o*(1+o))}return[2/Math.sqrt($a*(4+$a))*t*(1+Math.cos(a)),2*Math.sqrt($a/(4+$a))*Math.sin(a)]}function I(t,a){return[t*(1+Math.cos(a))/Math.sqrt(2+$a),2*a/Math.sqrt(2+$a)]}function C(t,a){for(var n=(1+$a/2)*Math.sin(a),r=0,e=1/0;10>r&&Math.abs(e)>Ya;r++)a-=e=(a+Math.sin(a)-n)/(1+Math.cos(a));return n=Math.sqrt(2+$a),[t*(1+Math.cos(a))/n,2*a/n]}function J(t,a){var n=Math.sin(t/=2),r=Math.cos(t),e=Math.sqrt(Math.cos(a)),o=Math.cos(a/=2),h=Math.sin(a)/(o+Math.SQRT2*r*e),i=Math.sqrt(2/(1+h*h)),u=Math.sqrt((Math.SQRT2*o+(r+n)*e)/(Math.SQRT2*o+(r-n)*e));return[cn*(i*(u-1/u)-2*Math.log(u)),cn*(i*h*(u+1/u)-2*Math.atan(h))]}function K(t,a){var n=Math.tan(a/2);return[t*fn*e(1-n*n),(1+fn)*n]}function L(t,a){var n=a/2,r=Math.cos(n);return[2*t/tn*Math.cos(a)*r*r,tn*Math.tan(n)]}function N(t,a,n,r,o,h,i,u){function M(e,M){if(!M)return[t*e/$a,0];var s=M*M,c=t+s*(a+s*(n+s*r)),f=M*(o-1+s*(h-u+s*i)),v=(c*c+f*f)/(2*f),l=e*Math.asin(c/v)/$a;return[v*Math.sin(l),M*(1+s*u)+v*(1-Math.cos(l))]}return arguments.length<8&&(u=0),M.invert=function(M,s){var c,f,v=$a*M/t,l=s,g=50;do{var d=l*l,b=t+d*(a+d*(n+d*r)),q=l*(o-1+d*(h-u+d*i)),w=b*b+q*q,m=2*q,p=w/m,S=p*p,Q=Math.asin(b/p)/$a,R=v*Q;if(xB2=b*b,dxBdφ=(2*a+d*(4*n+6*d*r))*l,dyBdφ=o+d*(3*h+5*d*i),dpdφ=2*(b*dxBdφ+q*(dyBdφ-1)),dqdφ=2*(dyBdφ-1),dmdφ=(dpdφ*m-w*dqdφ)/(m*m),cosα=Math.cos(R),sinα=Math.sin(R),mcosα=p*cosα,msinα=p*sinα,dαdφ=v/$a*(1/e(1-xB2/S))*(dxBdφ*p-b*dmdφ)/S,fx=msinα-M,fy=l*(1+d*u)+p-mcosα-s,δxδφ=dmdφ*sinα+mcosα*dαdφ,δxδλ=mcosα*Q,δyδφ=1+dmdφ-(dmdφ*cosα-msinα*dαdφ),δyδλ=msinα*Q,denominator=δxδφ*δyδλ-δyδφ*δxδλ,!denominator)break;v-=c=(fy*δxδφ-fx*δyδφ)/denominator,l-=f=(fx*δyδλ-fy*δxδλ)/denominator}while((Math.abs(c)>Ya||Math.abs(f)>Ya)&&--g>0);return[v,l]},M}function O(t,a){var n=t*t,r=a*a;return[t*(1-.162388*r)*(.87-952426e-9*n*n),a*(1+r/12)]}function U(t){function n(){var t=!1,a=en(r),n=a(t);return n.quincuncial=function(n){return arguments.length?a(t=!!n):t},n}function r(n){var r=n?function(n,r){var o=Math.abs(n)<$a/2,h=t(o?n:n>0?n-$a:n+$a,r),i=(h[0]-h[1])*Math.SQRT1_2,u=(h[0]+h[1])*Math.SQRT1_2;if(o)return[i,u];var M=e*Math.SQRT1_2,s=i>0^u>0?-1:1;return[s*i-a(u)*M,s*u-a(i)*M]}:function(a,n){var r=a>0?-.5:.5,o=t(a+r*$a,n);return o[0]-=r*e,o};return t.invert&&(r.invert=n?function(a,n){var r=(a+n)*Math.SQRT1_2,o=(n-a)*Math.SQRT1_2,h=Math.abs(r)<.5*e&&Math.abs(o)<.5*e;if(!h){var i=e*Math.SQRT1_2,u=r>0^o>0?-1:1,M=-u*(a+(o>0?1:-1)*i),s=-u*(n+(r>0?1:-1)*i);r=(-M-s)*Math.SQRT1_2,o=(M-s)*Math.SQRT1_2}var c=t.invert(r,o);return h||(c[0]+=r>0?$a:-$a),c}:function(a,n){var r=a>0?-.5:.5,o=t.invert(a+r*e,n),h=o[0]-r*$a;return-$a>h?h+=2*$a:h>$a&&(h-=2*$a),o[0]=h,o}),r}var e=t($a/2,0)[0]-t(-$a/2,0)[0];return n.raw=r,n}function V(t,r){var e=a(t),o=a(r),h=Math.cos(r),i=Math.cos(t)*h,u=Math.sin(t)*h,M=Math.sin(o*r);t=Math.abs(Math.atan2(u,M)),r=n(i),Math.abs(t-$a/2)>Ya&&(t%=$a/2);var s=W(t>$a/4?$a/2-t:t,r);return t>$a/4&&(M=s[0],s[0]=-s[1],s[1]=-M),s[0]*=e,s[1]*=-o,s}function W(t,a){if(a===$a/2)return[0,0];var r=Math.sin(a),o=r*r,h=o*o,i=1+h,u=1+3*h,M=1-h,s=n(1/Math.sqrt(i)),c=M+o*i*s,f=(1-r)/c,v=Math.sqrt(f),l=f*i,g=Math.sqrt(l),d=v*M;if(0===t)return[0,-(d+o*g)];var b=Math.cos(a),q=1/b,w=2*r*b,m=(-3*o+s*u)*w,p=(-c*b-(1-r)*m)/(c*c),S=.5*p/v,Q=M*S-2*o*v*w,R=o*i*p+f*u*w,T=-q*w,y=-q*R,x=-2*q*Q,k=4*t/$a;if(t>.222*$a||$a/4>a&&t>.175*$a){var E=(d+o*e(l*(1+h)-d*d))/(1+h);if(t>$a/4)return[E,E];var _=E,P=.5*E,z=50;E=.5*(P+_);do{var B=Math.sqrt(l-E*E),A=E*(x+T*B)+y*n(E/g)-k;if(!A)break;0>A?P=E:_=E,E=.5*(P+_)}while(Math.abs(_-P)>Ya&&--z>0)}else{var D,E=Ya,z=25;do{var G=E*E,B=e(l-G),j=x+T*B,A=E*j+y*n(E/g)-k,F=j+(y-T*G)/B;E-=D=B?A/F:0}while(Math.abs(D)>Ya&&--z>0)}return[E,-d-o*e(l-E*E)]}function X(t,a){for(var n=0,r=1,e=.5,o=50;;){var h=e*e,i=Math.sqrt(e),u=Math.asin(1/Math.sqrt(1+h)),M=1-h+e*(1+h)*u,s=(1-i)/M,c=Math.sqrt(s),f=s*(1+h),v=c*(1-h),l=f-t*t,g=Math.sqrt(l),d=a+v+e*g;if(Math.abs(r-n)<Za||--o===0||0===d)break;d>0?n=e:r=e,e=.5*(n+r)}if(!o)return null;var b=Math.asin(i),q=Math.cos(b),w=1/q,m=2*i*q,p=(-3*e+u*(1+3*h))*m,S=(-M*q-(1-i)*p)/(M*M),Q=.5*S/c,R=(1-h)*Q-2*e*c*m,T=-2*w*R,y=-w*m,x=-w*(e*(1+h)*S+s*(1+3*h)*m);return[$a/4*(t*(T+y*g)+x*Math.asin(t/Math.sqrt(f))),b]}function Y(t,a,n){if(!t){var r=Z(a,1-n);return[[0,r[0]/r[1]],[1/r[1],0],[r[2]/r[1],0]]}var e=Z(t,n);if(!a)return[[e[0],0],[e[1],0],[e[2],0]];var r=Z(a,1-n),o=r[1]*r[1]+n*e[0]*e[0]*r[0]*r[0];return[[e[0]*r[2]/o,e[1]*e[2]*r[0]*r[1]/o],[e[1]*r[1]/o,-e[0]*e[2]*r[0]*r[2]/o],[e[2]*r[1]*r[2]/o,-n*e[0]*e[1]*r[0]/o]]}function Z(t,a){var r,o,h,i,u;if(Ya>a)return i=Math.sin(t),o=Math.cos(t),r=.25*a*(t-i*o),[i-r*o,o+r*i,1-.5*a*i*i,t-r];if(a>=1-Ya)return r=.25*(1-a),o=f(t),i=s(t),h=1/o,u=o*c(t),[i+r*(u-t)/(o*o),h-r*i*h*(u-t),h+r*i*h*(u+t),2*Math.atan(Math.exp(t))-$a/2+r*(u-t)/o];var M=[1,0,0,0,0,0,0,0,0],v=[Math.sqrt(a),0,0,0,0,0,0,0,0],l=0;for(o=Math.sqrt(1-a),u=1;Math.abs(v[l]/M[l])>Ya&&8>l;)r=M[l++],v[l]=.5*(r-o),M[l]=.5*(r+o),o=e(r*o),u*=2;h=u*M[l]*t;do i=v[l]*Math.sin(o=h)/M[l],h=.5*(n(i)+h);while(--l);return[Math.sin(h),i=Math.cos(h),i/Math.cos(h-o),h]}function $(t,n,r){var o=Math.abs(t),h=Math.abs(n),i=c(h);if(o){var u=1/Math.sin(o),M=1/(Math.tan(o)*Math.tan(o)),s=-(M+r*i*i*u*u-1+r),f=(r-1)*M,v=.5*(-s+Math.sqrt(s*s-4*f));return[ta(Math.atan(1/Math.sqrt(v)),r)*a(t),ta(Math.atan(e((v/M-1)/r)),1-r)*a(n)]}return[0,ta(Math.atan(i),1-r)*a(n)]}function ta(t,a){if(!a)return t;if(1===a)return Math.log(Math.tan(t/2+$a/4));for(var n=1,r=Math.sqrt(1-a),e=Math.sqrt(a),o=0;Math.abs(e)>Ya;o++){if(t%$a){var h=Math.atan(r*Math.tan(t)/n);0>h&&(h+=$a),t+=h+~~(t/$a)*$a}else t+=t;e=(n+r)/2,r=Math.sqrt(n*r),e=((n=e)-r)/2}return t/(Math.pow(2,o)*n)}function aa(t,n){var r=(Math.SQRT2-1)/(Math.SQRT2+1),e=Math.sqrt(1-r*r),o=ta($a/2,e*e),h=-1,i=Math.log(Math.tan($a/4+Math.abs(n)/2)),u=Math.exp(h*i)/Math.sqrt(r),M=na(u*Math.cos(h*t),u*Math.sin(h*t)),s=$(M[0],M[1],e*e);return[-s[1],a(n)*(.5*o-s[0])]}function na(t,n){var r=t*t,e=n+1,o=1-r-n*n;return[a(t)*$a/4-.5*Math.atan2(o,2*t),-.25*Math.log(o*o+4*r)+.5*Math.log(e*e+r)]}function ra(t,a){var n=a[0]*a[0]+a[1]*a[1];return[(t[0]*a[0]+t[1]*a[1])/n,(t[1]*a[0]-t[0]*a[1])/n]}function ea(t){function a(t,a){var e=h(t,a);t=e[0],a=e[1];var i=Math.sin(a),u=Math.cos(a),M=Math.cos(t),s=r(n*i+o*u*M),c=Math.sin(s),f=Math.abs(c)>Ya?s/c:1;return[f*o*Math.sin(t),(Math.abs(t)>$a/2?f:-f)*(n*u-o*i*M)]}var n=Math.sin(t),o=Math.cos(t),h=oa(t);return h.invert=oa(-t),a.invert=function(t,a){var r=Math.sqrt(t*t+a*a),o=-Math.sin(r),i=Math.cos(r),u=r*i,M=-a*o,s=r*n,c=e(u*u+M*M-s*s),f=Math.atan2(u*s+M*c,M*s-u*c),v=(r>$a/2?-1:1)*Math.atan2(t*o,r*Math.cos(f)*i+a*Math.sin(f)*o);return h.invert(v,f)},a}function oa(t){var a=Math.sin(t),r=Math.cos(t);return function(t,e){var o=Math.cos(e),h=Math.cos(t)*o,i=Math.sin(t)*o,u=Math.sin(e);return[Math.atan2(i,h*r-u*a),n(u*r+h*a)]}}function ha(){var t=0,a=en(ea),n=a(t),r=n.rotate,e=n.stream,o=d3.geo.circle();return n.parallel=function(r){if(!arguments.length)return 180*(t/$a);var e=n.rotate();return a(t=r*$a/180).rotate(e)},n.rotate=function(a){return arguments.length?(r.call(n,[a[0],a[1]-180*(t/$a)]),o.origin([-a[0],-a[1]]),n):(a=r.call(n),a[1]+=180*(t/$a),a)},n.stream=function(t){return t=e(t),t.sphere=function(){t.polygonStart();var a,n=.01,r=o.angle(90-n)().coordinates[0],e=r.length-1,h=-1;for(t.lineStart();++h<e;)t.point((a=r[h])[0],a[1]);for(t.lineEnd(),r=o.angle(90+n)().coordinates[0],e=r.length-1,t.lineStart();--h>=0;)t.point((a=r[h])[0],a[1]);t.lineEnd(),t.polygonEnd()},t},n}function ia(t,a){function n(n,r){var e=bn(n/a,r);return e[0]*=t,e}return arguments.length<2&&(a=t),1===a?bn:1/0===a?Ma:(n.invert=function(n,r){var e=bn.invert(n/t,r);return e[0]*=a,e},n)}function ua(){var t=2,a=en(ia),n=a(t);return n.coefficient=function(n){return arguments.length?a(t=+n):t},n}function Ma(t,a){return[t*Math.cos(a)/Math.cos(a/=2),2*Math.sin(a)]}function sa(t,a){for(var n,r=Math.sin(a)*(0>a?2.43763:2.67595),e=0;20>e&&(a-=n=(a+Math.sin(a)-r)/(1+Math.cos(a)),!(Math.abs(n)<Ya));e++);return[.85*t*Math.cos(a*=.5),Math.sin(a)*(0>a?1.93052:1.75859)]}function ca(t){function a(a,s){var c,f=Math.abs(s);if(f>r){var v=Math.min(t-1,Math.max(0,Math.floor((a+$a)/M)));a+=$a*(t-1)/t-v*M,c=d3.geo.collignon.raw(a,f),c[0]=c[0]*e/o-e*(t-1)/(2*t)+v*e/t,c[1]=h+(c[1]-i)*4*u/e,0>s&&(c[1]=-c[1])}else c=n(a,s);return c[0]/=2,c}var n=d3.geo.cylindricalEqualArea.raw(0),r=qn*$a/180,e=2*$a,o=d3.geo.collignon.raw($a,r)[0]-d3.geo.collignon.raw(-$a,r)[0],h=n(0,r)[1],i=d3.geo.collignon.raw(0,r)[1],u=d3.geo.collignon.raw(0,$a/2)[1]-i,M=2*$a/t;return a.invert=function(a,r){a*=2;var s=Math.abs(r);if(s>h){var c=Math.min(t-1,Math.max(0,Math.floor((a+$a)/M)));a=(a+$a*(t-1)/t-c*M)*o/e;var f=d3.geo.collignon.raw.invert(a,.25*(s-h)*e/u+i);return f[0]-=$a*(t-1)/t-c*M,0>r&&(f[1]=-f[1]),f}return n.invert(a,r)},a}function fa(){function t(){var t=180/a;return{type:"Polygon",coordinates:[d3.range(-180,180+t/2,t).map(function(t,a){return[t,1&a?90-1e-6:qn]}).concat(d3.range(180,-180-t/2,-t).map(function(t,a){return[t,1&a?-90+1e-6:-qn]}))]}}var a=2,n=en(ca),r=n(a),e=r.stream;return r.lobes=function(t){return arguments.length?n(a=+t):a},r.stream=function(a){var n=r.rotate(),o=e(a),h=(r.rotate([0,0]),e(a));return r.rotate(n),o.sphere=function(){d3.geo.stream(t(),h)},o},r}function va(t){function a(a,n){var r,h,f=1-Math.sin(n);if(f&&2>f){var v,l=$a/2-n,g=25;do{var d=Math.sin(l),b=Math.cos(l),q=i+Math.atan2(d,o-b),w=1+c-2*o*b;l-=v=(l-s*i-o*d+w*q-.5*f*e)/(2*o*d*q)}while(Math.abs(v)>Za&&--g>0);r=u*Math.sqrt(w),h=a*q/$a}else r=u*(t+f),h=a*i/$a;return[r*Math.sin(h),M-r*Math.cos(h)]}var e,o=1+t,h=Math.sin(1/o),i=n(h),u=2*Math.sqrt($a/(e=$a+4*i*o)),M=.5*u*(o+Math.sqrt(t*(2+t))),s=t*t,c=o*o;return a.invert=function(t,a){var h=t*t+(a-=M)*a,f=(1+c-h/(u*u))/(2*o),v=r(f),l=Math.sin(v),g=i+Math.atan2(l,o-f);return[n(t/Math.sqrt(h))*$a/g,n(1-2*(v-s*i-o*l+(1+c-2*o*f)*g)/e)]},a}function la(){var t=1,a=en(va),n=a(t);return n.ratio=function(n){return arguments.length?a(t=+n):t},n}function ga(t,a){return a>-wn?(t=Mn(t,a),t[1]+=mn,t):Q(t,a)}function da(t,a){return Math.abs(a)>wn?(t=Mn(t,a),t[1]-=a>0?mn:-mn,t):Q(t,a)}function ba(t,a){return[3*t/(2*$a)*Math.sqrt($a*$a/3-a*a),a]}function qa(t){function r(a,n){if(Math.abs(Math.abs(n)-$a/2)<Ya)return[0,0>n?-2:2];var r=Math.sin(n),e=Math.pow((1+r)/(1-r),t/2),o=.5*(e+1/e)+Math.cos(a*=t);return[2*Math.sin(a)/o,(e-1/e)/o]}return r.invert=function(r,e){var o=Math.abs(e);if(Math.abs(o-2)<Ya)return r?null:[0,a(e)*$a/2];if(o>2)return null;r/=2,e/=2;var h=r*r,i=e*e,u=2*e/(1+h+i);return u=Math.pow((1+u)/(1-u),1/t),[Math.atan2(2*r,1-h-i)/t,n((u-1)/(u+1))]},r}function wa(){var t=.5,a=en(qa),n=a(t);return n.spacing=function(n){return arguments.length?a(t=+n):t},n}function ma(t,a){return[t*(1+Math.sqrt(Math.cos(a)))/2,a/(Math.cos(a/2)*Math.cos(t/6))]}function pa(t,a){var n=t*t,r=a*a;return[t*(.975534+r*(-.119161+n*-.0143059+r*-.0547009)),a*(1.00384+n*(.0802894+r*-.02855+199025e-9*n)+r*(.0998909+r*-.0491032))]}function Sa(t,a){return[Math.sin(t)/Math.cos(a),Math.tan(a)*Math.cos(t)]}function Qa(t){function a(a,e){var o=e-t,h=Math.abs(o)<Ya?a*n:Math.abs(h=$a/4+e/2)<Ya||Math.abs(Math.abs(h)-$a/2)<Ya?0:a*o/Math.log(Math.tan(h)/r);return[h,o]}var n=Math.cos(t),r=Math.tan($a/4+t/2);return a.invert=function(a,e){var o,h=e+t;return[Math.abs(e)<Ya?a/n:Math.abs(o=$a/4+h/2)<Ya||Math.abs(Math.abs(o)-$a/2)<Ya?0:a*Math.log(Math.tan(o)/r)/e,h]},a}function Ra(t,a){return[t,1.25*Math.log(Math.tan($a/4+.4*a))]}function Ta(t){function a(a,n){for(var e,o=Math.cos(n),h=2/(1+o*Math.cos(a)),i=h*o*Math.sin(a),u=h*Math.sin(n),M=r,s=t[M],c=s[0],f=s[1];--M>=0;)s=t[M],c=s[0]+i*(e=c)-u*f,f=s[1]+i*f+u*e;return c=i*(e=c)-u*f,f=i*f+u*e,[c,f]}var r=t.length-1;return a.invert=function(a,e){var o=20,h=a,i=e;do{for(var u,M=r,s=t[M],c=s[0],f=s[1],v=0,l=0;--M>=0;)s=t[M],v=c+h*(u=v)-i*l,l=f+h*l+i*u,c=s[0]+h*(u=c)-i*f,f=s[1]+h*f+i*u;v=c+h*(u=v)-i*l,l=f+h*l+i*u,c=h*(u=c)-i*f-a,f=h*f+i*u-e;var g,d,b=v*v+l*l;h-=g=(c*v+f*l)/b,i-=d=(f*v-c*l)/b}while(Math.abs(g)+Math.abs(d)>Ya*Ya&&--o>0);if(o){var q=Math.sqrt(h*h+i*i),w=2*Math.atan(.5*q),m=Math.sin(w);return[Math.atan2(h*m,q*Math.cos(w)),q?n(i*m/q):0]}},a}function ya(){var t=pn.miller,a=en(Ta),n=a(t);return n.coefficients=function(n){return arguments.length?a(t="string"==typeof n?pn[n]:n):t},n}function xa(t,a){var n=Math.sqrt(6),r=Math.sqrt(7),e=Math.asin(7*Math.sin(a)/(3*n));return[n*t*(2*Math.cos(2*e/3)-1)/r,9*Math.sin(e/3)/r]}function ka(t,a){for(var n,r=(1+Math.SQRT1_2)*Math.sin(a),e=a,o=0;25>o&&(e-=n=(Math.sin(e/2)+Math.sin(e)-r)/(.5*Math.cos(e/2)+Math.cos(e)),!(Math.abs(n)<Ya));o++);return[t*(1+2*Math.cos(e)/Math.cos(e/2))/(3*Math.SQRT2),2*Math.sqrt(3)*Math.sin(e/2)/Math.sqrt(2+Math.SQRT2)]}function Ea(t,a){for(var n,r=Math.sqrt(6/(4+$a)),e=(1+$a/4)*Math.sin(a),o=a/2,h=0;25>h&&(o-=n=(o/2+Math.sin(o)-e)/(.5+Math.cos(o)),!(Math.abs(n)<Ya));h++);return[r*(.5+Math.cos(o))*t/1.5,r*o]}function _a(t,a){var n=a*a,r=n*n;return[t*(.8707-.131979*n+r*(-.013791+r*(.003971*n-.001529*r))),a*(1.007226+n*(.015085+r*(-.044475+.028874*n-.005916*r)))]}function Pa(t,a){return[t*(1+Math.cos(a))/2,2*(a-Math.tan(a/2))]}function za(t,a){if(Math.abs(a)<Ya)return[t,0];var n=Math.tan(a),r=t*Math.sin(a);return[Math.sin(r)/n,a+(1-Math.cos(r))/n]}function Ba(t){function a(a,n){var r=e?Math.tan(a*e/2)/e:a/2;if(!n)return[2*r,-t];var o=2*Math.atan(r*Math.sin(n)),h=1/Math.tan(n);return[Math.sin(o)*h,n+(1-Math.cos(o))*h-t]}var e=Math.sin(t);return a.invert=function(a,o){if(Math.abs(o+=t)<Ya)return[e?2*Math.atan(e*a/2)/e:a,0];var h,i=a*a+o*o,u=0,M=10;do{var s=Math.tan(u),c=1/Math.cos(u),f=i-2*o*u+u*u;u-=h=(s*f+2*(u-o))/(2+f*c*c+2*(u-o)*s)}while(Math.abs(h)>Ya&&--M>0);var v=a*(s=Math.tan(u)),l=Math.tan(Math.abs(o)<Math.abs(u+1/s)?n(v)*.5:r(v)*.5+$a/4)/Math.sin(u);return[e?2*Math.atan(e*l)/e:2*l,u]},a}function Aa(t,a){var n,r=Math.min(18,Math.abs(a)*36/$a),e=Math.floor(r),o=r-e,h=(n=Qn[e])[0],i=n[1],u=(n=Qn[++e])[0],M=n[1],s=(n=Qn[Math.min(19,++e)])[0],c=n[1];return[t*(u+o*(s-h)/2+o*o*(s-2*u+h)/2),(a>0?$a:-$a)/2*(M+o*(c-i)/2+o*o*(c-2*M+i)/2)]}function Da(t){function a(a,n){var r=Math.cos(n),e=(t-1)/(t-r*Math.cos(a));return[e*r*Math.sin(a),e*Math.sin(n)]}return a.invert=function(a,r){var e=a*a+r*r,o=Math.sqrt(e),h=(t-Math.sqrt(1-e*(t+1)/(t-1)))/((t-1)/o+o/(t-1));return[Math.atan2(a*h,o*Math.sqrt(1-h*h)),o?n(r*h/o):0]},a}function Ga(t,a){function n(a,n){var h=r(a,n),i=h[1],u=i*o/(t-1)+e;return[h[0]*e/u,i/u]}var r=Da(t);if(!a)return r;var e=Math.cos(a),o=Math.sin(a);return n.invert=function(a,n){var h=(t-1)/(t-1-n*o);return r.invert(h*a,h*n*e)},n}function ja(){var t=1.4,a=0,n=en(Ga),r=n(t,a);return r.distance=function(r){return arguments.length?n(t=+r,a):t},r.tilt=function(r){return arguments.length?n(t,a=r*$a/180):180*a/$a},r}function Fa(t,a){var n=Math.tan(a/2),r=Math.sin($a/4*n);return[t*(.74482-.34588*r*r),1.70711*n]}function Ha(t){function a(a,i){var u=r(Math.cos(i)*Math.cos(a-n)),M=r(Math.cos(i)*Math.cos(a-o)),s=0>i?-1:1;return u*=u,M*=M,[(u-M)/(2*t),s*e(4*h*M-(h-u+M)*(h-u+M))/(2*t)]}if(!t)return d3.geo.azimuthalEquidistant.raw;var n=-t/2,o=-n,h=t*t,i=Math.tan(o),u=.5/Math.sin(o);return a.invert=function(t,a){var e,h,M=a*a,s=Math.cos(Math.sqrt(M+(e=t+n)*e)),c=Math.cos(Math.sqrt(M+(e=t+o)*e));return[Math.atan2(h=s-c,e=(s+c)*i),(0>a?-1:1)*r(Math.sqrt(e*e+h*h)*u)]},a}function Ia(){var t=[[0,0],[0,0]],a=en(Ha),r=a(0),e=r.rotate;return delete r.rotate,r.points=function(r){if(!arguments.length)return t;t=r;var o=d3.geo.interpolate(r[0],r[1]),h=o(.5),i=d3.geo.rotation([-h[0],-h[1]])(r[0]),u=o.distance*.5,M=(i[0]<0?-1:1)*i[1]*an,s=n(Math.sin(M)/Math.sin(u));return e.call(i,[-h[0],-h[1],-s*nn]),a(2*u)},r}function Ca(t){function a(t,a){var r=d3.geo.gnomonic.raw(t,a);return r[0]*=n,r}var n=Math.cos(t);return a.invert=function(t,a){return d3.geo.gnomonic.raw.invert(t/n,a)},a}function Ja(){var t=[[0,0],[0,0]],a=en(Ca),r=a(0),e=r.rotate;return delete r.rotate,r.points=function(r){if(!arguments.length)return t;t=r;var o=d3.geo.interpolate(r[0],r[1]),h=o(.5),i=twoPointEquidistant_rotate(-h[0]*an,-h[1]*an,r[0][0]*an,r[0][1]*an),u=o.distance*.5,M=(i[0]<0?-1:1)*i[1],s=n(Math.sin(M)/Math.sin(u));return e.call(i,[-h[0],-h[1],-s*nn]),a(u)},r}function Ka(t,r){if(Math.abs(r)<Ya)return[t,0];var e=Math.abs(2*r/$a),o=n(e);if(Math.abs(t)<Ya||Math.abs(Math.abs(r)-$a/2)<Ya)return[0,a(r)*$a*Math.tan(o/2)];var h=Math.cos(o),i=Math.abs($a/t-t/$a)/2,u=i*i,M=h/(e+h-1),s=M*(2/e-1),c=s*s,f=c+u,v=M-c,l=u+M;return[a(t)*$a*(i*v+Math.sqrt(u*v*v-f*(M*M-c)))/f,a(r)*$a*(s*l-i*Math.sqrt((u+1)*f-l*l))/f]}function La(t,r){if(Math.abs(r)<Ya)return[t,0];var o=Math.abs(2*r/$a),h=n(o);if(Math.abs(t)<Ya||Math.abs(Math.abs(r)-$a/2)<Ya)return[0,a(r)*$a*Math.tan(h/2)];var i=Math.cos(h),u=Math.abs($a/t-t/$a)/2,M=u*u,s=i*(Math.sqrt(1+M)-u*i)/(1+M*o*o);return[a(t)*$a*s,a(r)*$a*e(1-s*(2*u+s))]}function Na(t,r){if(Math.abs(r)<Ya)return[t,0];var o=2*r/$a,h=n(o);if(Math.abs(t)<Ya||Math.abs(Math.abs(r)-$a/2)<Ya)return[0,$a*Math.tan(h/2)];var i=($a/t-t/$a)/2,u=o/(1+Math.cos(h));return[$a*(a(t)*e(i*i+1-u*u)-i),$a*u]}function Oa(t,n){if(!n)return[t,0];var r=Math.abs(n);if(!t||r===$a/2)return[0,n];var o=2*r/$a,h=o*o,i=(8*o-h*(h+2)-5)/(2*h*(o-1)),u=i*i,M=o*i,s=h+u+2*M,c=o+3*i,f=2*t/$a,v=f+1/f,l=a(Math.abs(t)-$a/2)*Math.sqrt(v*v-4),g=l*l,d=s*(h+u*g-1)+(1-h)*(h*(c*c+4*u)+12*M*u+4*u*u),b=(l*(s+u-1)+2*e(d))/(4*s+g);return[a(t)*$a*b/2,a(n)*$a/2*e(1+l*Math.abs(b)-b*b)]}function Ua(t,a){return[t*Math.sqrt(1-3*a*a/($a*$a)),a]}function Va(t,a){var n=.90631*Math.sin(a),r=Math.sqrt(1-n*n),e=Math.sqrt(2/(1+r*Math.cos(t/=3)));return[2.66723*r*e*Math.sin(t),1.24104*n*e]}function Wa(t,a){var n=Math.cos(a),r=Math.cos(t)*n,o=1-r,h=Math.cos(t=Math.atan2(Math.sin(t)*n,-Math.sin(a))),i=Math.sin(t);return n=e(1-r*r),[i*n-h*o,-h*n-i*o]}function Xa(t,a){var n=i(t,a);return[(n[0]+2*t/$a)/2,(n[1]+a)/2]}var Ya=1e-6,Za=Ya*Ya,$a=Math.PI,tn=Math.sqrt($a),an=$a/180,nn=180/$a,rn=d3.geo.projection,en=d3.geo.projectionMutator;d3.geo.interrupt=function(t){function a(a,n){for(var r=0>n?-1:1,e=i[+(0>n)],o=0,h=e.length-1;h>o&&a>e[o][2][0];++o);var u=t(a-e[o][1][0],n);return u[0]+=t(e[o][1][0],r*n>r*e[o][0][1]?e[o][0][1]:n)[0],u}function n(){h=i.map(function(a){return a.map(function(a){var n,r=t(a[0][0],a[0][1])[0],e=t(a[2][0],a[2][1])[0],o=t(a[1][0],a[0][1])[1],h=t(a[1][0],a[1][1])[1];return o>h&&(n=o,o=h,h=n),[[r,o],[e,h]]})})}function r(){for(var t=1e-6,a=[],n=0,r=i[0].length;r>n;++n){var o=i[0][n],h=o[0][0]*180/$a,u=o[0][1]*180/$a,M=o[1][1]*180/$a,s=o[2][0]*180/$a,c=o[2][1]*180/$a;a.push(e([[h+t,u+t],[h+t,M-t],[s-t,M-t],[s-t,c+t]],30))}for(var n=i[1].length-1;n>=0;--n){var o=i[1][n],h=o[0][0]*180/$a,u=o[0][1]*180/$a,M=o[1][1]*180/$a,s=o[2][0]*180/$a,c=o[2][1]*180/$a;a.push(e([[s-t,c-t],[s-t,M+t],[h+t,M+t],[h+t,u-t]],30))}return{type:"Polygon",coordinates:[d3.merge(a)]}}function e(t,a){for(var n,r,e,o=-1,h=t.length,i=t[0],u=[];++o<h;){n=t[o],r=(n[0]-i[0])/a,e=(n[1]-i[1])/a;for(var M=0;a>M;++M)u.push([i[0]+M*r,i[1]+M*e]);i=n}return u.push(n),u}function o(t,a){return Math.abs(t[0]-a[0])<Ya&&Math.abs(t[1]-a[1])<Ya}var h,i=[[[[-$a,0],[0,$a/2],[$a,0]]],[[[-$a,0],[0,-$a/2],[$a,0]]]];t.invert&&(a.invert=function(n,r){for(var e=h[+(0>r)],u=i[+(0>r)],M=0,s=e.length;s>M;++M){var c=e[M];if(c[0][0]<=n&&n<c[1][0]&&c[0][1]<=r&&r<c[1][1]){var f=t.invert(n-t(u[M][1][0],0)[0],r);return f[0]+=u[M][1][0],o(a(f[0],f[1]),[n,r])?f:null}}});var u=d3.geo.projection(a),M=u.stream;return u.stream=function(t){var a=u.rotate(),n=M(t),e=(u.rotate([0,0]),M(t));return u.rotate(a),n.sphere=function(){d3.geo.stream(r(),e)},n},u.lobes=function(t){return arguments.length?(i=t.map(function(t){return t.map(function(t){return[[t[0][0]*$a/180,t[0][1]*$a/180],[t[1][0]*$a/180,t[1][1]*$a/180],[t[2][0]*$a/180,t[2][1]*$a/180]]})}),n(),u):i.map(function(t){return t.map(function(t){return[[t[0][0]*180/$a,t[0][1]*180/$a],[t[1][0]*180/$a,t[1][1]*180/$a],[t[2][0]*180/$a,t[2][1]*180/$a]]})})},u},(d3.geo.airy=h).raw=o,i.invert=function(t,a){var n=t,e=a,o=25;do{var h,i=Math.sin(n),u=Math.sin(n/2),M=Math.cos(n/2),s=Math.sin(e),c=Math.cos(e),f=Math.sin(2*e),v=s*s,l=c*c,g=u*u,d=1-l*M*M,b=d?r(c*M)*Math.sqrt(h=1/d):h=0,q=2*b*c*u-t,w=b*s-a,m=h*(l*g+b*c*M*v),p=h*(.5*i*f-2*b*s*u),S=.25*h*(f*u-b*s*l*i),Q=h*(v*M+b*g*c),R=p*S-Q*m;if(!R)break;var T=(w*p-q*Q)/R,y=(q*S-w*m)/R;n-=T,e-=y}while((Math.abs(T)>Ya||Math.abs(y)>Ya)&&--o>0);return[n,e]},(d3.geo.aitoff=function(){return rn(i)}).raw=i,(d3.geo.armadillo=M).raw=u,g.invert=function(t,r){if(t*=3/8,r*=3/8,!t&&Math.abs(r)>1)return null;var e=t*t,o=r*r,h=1+e+o,i=Math.sqrt(.5*(h-Math.sqrt(h*h-4*r*r))),u=n(i)/3,M=i?l(Math.abs(r/i))/3:v(Math.abs(t))/3,s=Math.cos(u),g=f(M),d=g*g-s*s;return[a(t)*2*Math.atan2(c(M)*s,.25-d),a(r)*2*Math.atan2(g*Math.sin(u),.25+d)]},(d3.geo.august=function(){return rn(g)}).raw=g;var on=Math.log(1+Math.SQRT2);d.invert=function(t,n){if((e=Math.abs(n))<on)return[t,2*Math.atan(Math.exp(n))-$a/2];var r,e,o=Math.sqrt(8),h=$a/4,i=25;do{var u=Math.cos(h/2),M=Math.tan(h/2);h-=r=(o*(h-$a/4)-Math.log(M)-e)/(o-.5*u*u/M)}while(Math.abs(r)>Za&&--i>0);return[t/(Math.cos(h)*(o-1/Math.sin(h))),a(n)*h]},(d3.geo.baker=function(){return rn(d)}).raw=d;var hn=d3.geo.azimuthalEquidistant.raw;(d3.geo.berghaus=q).raw=b;var un=w($a),Mn=m(2*Math.SQRT2/$a,Math.SQRT2,$a);(d3.geo.mollweide=function(){return rn(Mn)}).raw=Mn,p.invert=function(t,a){var n,r,e=2.00276,o=e*a,h=0>a?-$a/4:$a/4,i=25;do r=o-Math.SQRT2*Math.sin(h),h-=n=(Math.sin(2*h)+2*h-$a*Math.sin(r))/(2*Math.cos(2*h)+2+$a*Math.cos(r)*Math.SQRT2*Math.cos(h));while(Math.abs(n)>Ya&&--i>0);return r=o-Math.SQRT2*Math.sin(h),[t*(1/Math.cos(r)+1.11072/Math.cos(h))/e,r]},(d3.geo.boggs=function(){return rn(p)}).raw=p,Q.invert=function(t,a){return[t/Math.cos(a),a]},(d3.geo.sinusoidal=function(){return rn(Q)}).raw=Q,(d3.geo.bonne=function(){return S(R).parallel(45)}).raw=R;var sn=m(1,4/$a,$a);(d3.geo.bromley=function(){return rn(sn)}).raw=sn,(d3.geo.chamberlin=y).raw=T,P.invert=function(t,a){var r=(r=a/tn-1)*r;return[r>0?t*Math.sqrt($a/r)/2:0,n(1-r)]},(d3.geo.collignon=function(){return rn(P)}).raw=P,(d3.geo.craig=function(){return S(z)}).raw=z,B.invert=function(t,a){var r=Math.sqrt(3),e=3*n(a/(r*tn));return[tn*t/(r*(2*Math.cos(2*e/3)-1)),e]},(d3.geo.craster=function(){return rn(B)}).raw=B,(d3.geo.cylindricalEqualArea=function(){return S(A)}).raw=A,(d3.geo.cylindricalStereographic=function(){return S(D)}).raw=D,G.invert=function(t,a){var n=Math.sqrt(8/(3*$a)),r=a/n;return[t/(n*(1-Math.abs(r)/$a)),r]},(d3.geo.eckert1=function(){return rn(G)}).raw=G,j.invert=function(t,r){var e=2-Math.abs(r)/Math.sqrt(2*$a/3);return[t*Math.sqrt(6*$a)/(2*e),a(r)*n((4-e*e)/3)]},(d3.geo.eckert2=function(){return rn(j)}).raw=j,F.invert=function(t,a){var n=Math.sqrt($a*(4+$a))/2;return[t*n/(1+e(1-a*a*(4+$a)/(4*$a))),a*n/2]},(d3.geo.eckert3=function(){return rn(F)}).raw=F,H.invert=function(t,a){var r=.5*a*Math.sqrt((4+$a)/$a),e=n(r),o=Math.cos(e);return[t/(2/Math.sqrt($a*(4+$a))*(1+o)),n((e+r*(o+2))/(2+$a/2))]},(d3.geo.eckert4=function(){return rn(H)}).raw=H,I.invert=function(t,a){var n=Math.sqrt(2+$a),r=a*n/2;return[n*t/(1+Math.cos(r)),r]},(d3.geo.eckert5=function(){return rn(I)}).raw=I,C.invert=function(t,a){var r=1+$a/2,e=Math.sqrt(r/2);return[2*t*e/(1+Math.cos(a*=e)),n((a+Math.sin(a))/r)]},(d3.geo.eckert6=function(){return rn(C)}).raw=C,J.invert=function(t,a){var n=d3.geo.august.raw.invert(t/1.2,1.065*a);if(!n)return null;var r=n[0],e=n[1],o=20;t/=cn,a/=cn;do{var h=r/2,i=e/2,u=Math.sin(h),M=Math.cos(h),s=Math.sin(i),c=Math.cos(i),f=Math.cos(e),v=Math.sqrt(f),l=s/(c+Math.SQRT2*M*v),g=l*l,d=Math.sqrt(2/(1+g)),b=Math.SQRT2*c+(M+u)*v,q=Math.SQRT2*c+(M-u)*v,w=b/q,m=Math.sqrt(w),p=m-1/m,S=m+1/m,Q=d*p-2*Math.log(m)-t,R=d*l*S-2*Math.atan(l)-a,T=s&&Math.SQRT1_2*v*u*g/s,y=(Math.SQRT2*M*c+v)/(2*(c+Math.SQRT2*M*v)*(c+Math.SQRT2*M*v)*v),x=-.5*l*d*d*d,k=x*T,E=x*y,_=(_=2*c+Math.SQRT2*v*(M-u))*_*m,P=(Math.SQRT2*M*c*v+f)/_,z=-(Math.SQRT2*u*s)/(v*_),B=p*k-2*P/m+d*(P+P/w),A=p*E-2*z/m+d*(z+z/w),D=l*S*k-2*T/(1+g)+d*S*T+d*l*(P-P/w),G=l*S*E-2*y/(1+g)+d*S*y+d*l*(z-z/w),j=A*D-G*B;if(!j)break;var F=(R*A-Q*G)/j,H=(Q*D-R*B)/j;r-=F,e=Math.max(-$a/2,Math.min($a/2,e-H))}while((Math.abs(F)>Ya||Math.abs(H)>Ya)&&--o>0);return Math.abs(Math.abs(e)-$a/2)<Ya?[0,e]:o&&[r,e]};var cn=3+2*Math.SQRT2;(d3.geo.eisenlohr=function(){return rn(J)}).raw=J,K.invert=function(t,a){var n=a/(1+fn);return[t?t/(fn*e(1-n*n)):0,2*Math.atan(n)]};var fn=Math.cos(35*an);(d3.geo.fahey=function(){return rn(K)}).raw=K,L.invert=function(t,a){var n=Math.atan(a/tn),r=Math.cos(n),e=2*n;return[.5*t*tn/(Math.cos(e)*r*r),e]},(d3.geo.foucaut=function(){return rn(L)}).raw=L,d3.geo.gilbert=function(t){function a(a){return t([a[0]*.5,n(Math.tan(a[1]*.5*an))*nn])}var r=d3.geo.equirectangular().scale(nn).translate([0,0]);return t.invert&&(a.invert=function(a){return a=t.invert(a),a[0]*=2,a[1]=2*Math.atan(Math.sin(a[1]*an))*nn,a}),a.stream=function(a){a=t.stream(a);var e=r.stream({point:function(t,r){a.point(.5*t,n(Math.tan(.5*-r*an))*nn)},lineStart:function(){a.lineStart()
},lineEnd:function(){a.lineEnd()},polygonStart:function(){a.polygonStart()},polygonEnd:function(){a.polygonEnd()}});return e.sphere=function(){a.sphere()},e.valid=!1,e},a};var vn=N(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555);(d3.geo.ginzburg4=function(){return rn(vn)}).raw=vn;var ln=N(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742);(d3.geo.ginzburg5=function(){return rn(ln)}).raw=ln;var gn=N(5/6*$a,-.62636,-.0344,0,1.3493,-.05524,0,.045);(d3.geo.ginzburg6=function(){return rn(gn)}).raw=gn,O.invert=function(t,a){var n,r=t,e=a,o=50;do{var h=e*e;e-=n=(e*(1+h/12)-a)/(1+h/4)}while(Math.abs(n)>Ya&&--o>0);o=50,t/=1-.162388*h;do{var i=(i=r*r)*i;r-=n=(r*(.87-952426e-9*i)-t)/(.87-.00476213*i)}while(Math.abs(n)>Ya&&--o>0);return[r,e]},(d3.geo.ginzburg8=function(){return rn(O)}).raw=O;var dn=N(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);(d3.geo.ginzburg9=function(){return rn(dn)}).raw=dn,V.invert=function(t,r){var e=a(t),o=a(r),h=-e*t,i=-o*r,u=1>i/h,M=X(u?i:h,u?h:i),s=M[0],c=M[1];u&&(s=-$a/2-s);var f=Math.cos(c),t=Math.cos(s)*f,r=Math.sin(s)*f,v=Math.sin(c);return[e*(Math.atan2(r,-v)+$a),o*n(t)]},d3.geo.gringorten=U(V),aa.invert=function(t,a){var n=(Math.SQRT2-1)/(Math.SQRT2+1),r=Math.sqrt(1-n*n),e=ta($a/2,r*r),o=-1,h=Y(.5*e-a,-t,r*r),i=ra(h[0],h[1]),u=Math.atan2(i[1],i[0])/o;return[u,2*Math.atan(Math.exp(.5/o*Math.log(n*i[0]*i[0]+n*i[1]*i[1])))-$a/2]},d3.geo.guyou=U(aa),(d3.geo.hammerRetroazimuthal=ha).raw=ea;var bn=d3.geo.azimuthalEqualArea.raw;Ma.invert=function(t,a){var r=2*n(a/2);return[t*Math.cos(r/2)/Math.cos(r),r]},(d3.geo.hammer=ua).raw=ia,sa.invert=function(t,a){var r=Math.abs(r=a*(0>a?.5179951515653813:.5686373742600607))>1-Ya?r>0?$a/2:-$a/2:n(r);return[1.1764705882352942*t/Math.cos(r),Math.abs(r=((r+=r)+Math.sin(r))*(0>a?.4102345310814193:.3736990601468637))>1-Ya?r>0?$a/2:-$a/2:n(r)]},(d3.geo.hatano=function(){return rn(sa)}).raw=sa;var qn=41+48/36+37/3600;(d3.geo.healpix=fa).raw=ca,(d3.geo.hill=la).raw=va;var wn=.7109889596207567,mn=.0528035274542;ga.invert=function(t,a){return a>-wn?Mn.invert(t,a-mn):Q.invert(t,a)},(d3.geo.sinuMollweide=function(){return rn(ga).rotate([-20,-55])}).raw=ga,da.invert=function(t,a){return Math.abs(a)>wn?Mn.invert(t,a+(a>0?mn:-mn)):Q.invert(t,a)},(d3.geo.homolosine=function(){return rn(da)}).raw=da,ba.invert=function(t,a){return[2/3*$a*t/Math.sqrt($a*$a/3-a*a),a]},(d3.geo.kavrayskiy7=function(){return rn(ba)}).raw=ba,(d3.geo.lagrange=wa).raw=qa,ma.invert=function(t,a){var n=Math.abs(t),o=Math.abs(a),h=$a/Math.SQRT2,i=Ya,u=$a/2;h>o?u*=o/h:i+=6*r(h/o);for(var M=0;25>M;M++){var s=Math.sin(u),c=e(Math.cos(u)),f=Math.sin(u/2),v=Math.cos(u/2),l=Math.sin(i/6),g=Math.cos(i/6),d=.5*i*(1+c)-n,b=u/(v*g)-o,q=c?-.25*i*s/c:0,w=.5*(1+c),m=(1+.5*u*f/v)/(v*g),p=u/v*(l/6)/(g*g),S=q*p-m*w,Q=(d*p-b*w)/S,R=(b*q-d*m)/S;if(u-=Q,i-=R,Math.abs(Q)<Ya&&Math.abs(R)<Ya)break}return[0>t?-i:i,0>a?-u:u]},(d3.geo.larrivee=function(){return rn(ma)}).raw=ma,pa.invert=function(t,n){var r=a(t)*$a,e=n/2,o=50;do{var h=r*r,i=e*e,u=r*e,M=r*(.975534+i*(-.119161+h*-.0143059+i*-.0547009))-t,s=e*(1.00384+h*(.0802894+i*-.02855+199025e-9*h)+i*(.0998909+i*-.0491032))-n,c=.975534-i*(.119161+.0143059*3*h+.0547009*i),f=-u*(.238322+.2188036*i+.0286118*h),v=u*(.1605788+7961e-7*h+-0.0571*i),l=1.00384+h*(.0802894+199025e-9*h)+i*(3*(.0998909-.02855*h)-.245516*i),g=f*v-l*c,d=(s*f-M*l)/g,b=(M*v-s*c)/g;r-=d,e-=b}while((Math.abs(d)>Ya||Math.abs(b)>Ya)&&--o>0);return o&&[r,e]},(d3.geo.laskowski=function(){return rn(pa)}).raw=pa,Sa.invert=function(t,e){var o=t*t,h=e*e,i=h+1,u=t?Math.SQRT1_2*Math.sqrt((i-Math.sqrt(o*o+2*o*(h-1)+i*i))/o+1):1/Math.sqrt(i);return[n(t*u),a(e)*r(u)]},(d3.geo.littrow=function(){return rn(Sa)}).raw=Sa,(d3.geo.loximuthal=function(){return S(Qa).parallel(40)}).raw=Qa,Ra.invert=function(t,a){return[t,2.5*Math.atan(Math.exp(.8*a))-.625*$a]},(d3.geo.miller=function(){return rn(Ra)}).raw=Ra;var pn={alaska:[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],gs48:[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],gs50:[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7388e-7,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],miller:[[.9245,0],[0,0],[.01943,0]],lee:[[.721316,0],[0,0],[-.00881625,-.00617325]]};(d3.geo.modifiedStereographic=ya).raw=Ta,xa.invert=function(t,a){var r=Math.sqrt(6),e=Math.sqrt(7),o=3*n(a*e/9);return[t*e/(r*(2*Math.cos(2*o/3)-1)),n(Math.sin(o)*3*r/7)]},(d3.geo.mtFlatPolarParabolic=function(){return rn(xa)}).raw=xa,ka.invert=function(t,a){var r=a*Math.sqrt(2+Math.SQRT2)/(2*Math.sqrt(3)),e=2*n(r);return[3*Math.SQRT2*t/(1+2*Math.cos(e)/Math.cos(e/2)),n((r+Math.sin(e))/(1+Math.SQRT1_2))]},(d3.geo.mtFlatPolarQuartic=function(){return rn(ka)}).raw=ka,Ea.invert=function(t,a){var r=Math.sqrt(6/(4+$a)),e=a/r;return Math.abs(Math.abs(e)-$a/2)<Ya&&(e=0>e?-$a/2:$a/2),[1.5*t/(r*(.5+Math.cos(e))),n((e/2+Math.sin(e))/(1+$a/4))]},(d3.geo.mtFlatPolarSinusoidal=function(){return rn(Ea)}).raw=Ea,_a.invert=function(t,a){var n,r=a,e=25;do{var o=r*r,h=o*o;r-=n=(r*(1.007226+o*(.015085+h*(-.044475+.028874*o-.005916*h)))-a)/(1.007226+o*(.045255+h*(-0.311325+.259866*o-.005916*11*h)))}while(Math.abs(n)>Ya&&--e>0);return[t/(.8707+(o=r*r)*(-.131979+o*(-.013791+o*o*o*(.003971-.001529*o)))),r]},(d3.geo.naturalEarth=function(){return rn(_a)}).raw=_a,Pa.invert=function(t,a){for(var n=a/2,r=0,e=1/0;10>r&&Math.abs(e)>Ya;r++){var o=Math.cos(a/2);a-=e=(a-Math.tan(a/2)-n)/(1-.5/(o*o))}return[2*t/(1+Math.cos(a)),a]},(d3.geo.nellHammer=function(){return rn(Pa)}).raw=Pa;var Sn=U(aa);(d3.geo.peirceQuincuncial=function(){return Sn().quincuncial(!0).rotate([-90,-90,45]).clipAngle(180-1e-6)}).raw=Sn.raw,za.invert=function(t,e){if(Math.abs(e)<Ya)return[t,0];var o,h=t*t+e*e,i=.5*e,u=10;do{var M=Math.tan(i),s=1/Math.cos(i),c=h-2*e*i+i*i;i-=o=(M*c+2*(i-e))/(2+c*s*s+2*(i-e)*M)}while(Math.abs(o)>Ya&&--u>0);return M=Math.tan(i),[(Math.abs(e)<Math.abs(i+1/M)?n(t*M):a(t)*(r(Math.abs(t*M))+$a/2))/Math.sin(i),i]},(d3.geo.polyconic=function(){return rn(za)}).raw=za,(d3.geo.rectangularPolyconic=function(){return S(Ba)}).raw=Ba;var Qn=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];Qn.forEach(function(t){t[1]*=1.0144}),Aa.invert=function(t,a){var n=2*a/$a,r=90*n,e=Math.min(18,Math.abs(r/5)),o=Math.max(0,Math.floor(e));do{var h=Qn[o][1],i=Qn[o+1][1],u=Qn[Math.min(19,o+2)][1],M=u-h,s=u-2*i+h,c=2*(Math.abs(n)-i)/M,f=s/M,v=c*(1-f*c*(1-2*f*c));if(v>=0||1===o){r=(a>=0?5:-5)*(v+e);var l,g=50;do e=Math.min(18,Math.abs(r)/5),o=Math.floor(e),v=e-o,h=Qn[o][1],i=Qn[o+1][1],u=Qn[Math.min(19,o+2)][1],r-=(l=(a>=0?$a:-$a)/2*(i+v*(u-h)/2+v*v*(u-2*i+h)/2)-a)*nn;while(Math.abs(l)>Za&&--g>0);break}}while(--o>=0);var d=Qn[o][0],b=Qn[o+1][0],q=Qn[Math.min(19,o+2)][0];return[t/(b+v*(q-d)/2+v*v*(q-2*b+d)/2),r*an]},(d3.geo.robinson=function(){return rn(Aa)}).raw=Aa,(d3.geo.satellite=ja).raw=Ga,Fa.invert=function(t,a){var n=a/1.70711,r=Math.sin($a/4*n);return[t/(.74482-.34588*r*r),2*Math.atan(n)]},(d3.geo.times=function(){return rn(Fa)}).raw=Fa,(d3.geo.twoPointEquidistant=Ia).raw=Ha,(d3.geo.twoPointAzimuthal=Ja).raw=Ca,Ka.invert=function(t,n){if(Math.abs(n)<Ya)return[t,0];if(Math.abs(t)<Ya)return[0,$a/2*Math.sin(2*Math.atan(n/$a))];var e=(t/=$a)*t,o=(n/=$a)*n,h=e+o,i=h*h,u=-Math.abs(n)*(1+h),M=u-2*o+e,s=-2*u+1+2*o+i,c=o/s+(2*M*M*M/(s*s*s)-9*u*M/(s*s))/27,f=(u-M*M/(3*s))/s,v=2*Math.sqrt(-f/3),l=r(3*c/(f*v))/3;return[$a*(h-1+Math.sqrt(1+2*(e-o)+i))/(2*t),a(n)*$a*(-v*Math.cos(l+$a/3)-M/(3*s))]},(d3.geo.vanDerGrinten=function(){return rn(Ka)}).raw=Ka,La.invert=function(t,n){if(!t)return[0,$a/2*Math.sin(2*Math.atan(n/$a))];var r=Math.abs(t/$a),e=(1-r*r-(n/=$a)*n)/(2*r),o=e*e,h=Math.sqrt(o+1);return[a(t)*$a*(h-e),a(n)*$a/2*Math.sin(2*Math.atan2(Math.sqrt((1-2*e*r)*(e+h)-r),Math.sqrt(h+e+r)))]},(d3.geo.vanDerGrinten2=function(){return rn(La)}).raw=La,Na.invert=function(t,n){if(!n)return[t,0];var r=n/$a,e=($a*$a*(1-r*r)-t*t)/(2*$a*t);return[t?$a*(a(t)*Math.sqrt(e*e+1)-e):0,$a/2*Math.sin(2*Math.atan(r))]},(d3.geo.vanDerGrinten3=function(){return rn(Na)}).raw=Na,Oa.invert=function(t,n){if(!t||!n)return[t,n];n/=$a;var r=a(t)*t*2/$a,e=(r*r-1+4*n*n)/Math.abs(r),o=e*e,h=2*n,i=50;do{var u=h*h,M=(8*h-u*(u+2)-5)/(2*u*(h-1)),s=(3*h-u*h-10)/(2*u*h),c=M*M,f=h*M,v=h+M,l=v*v,g=h+3*M,d=l*(u+c*o-1)+(1-u)*(u*(g*g+4*c)+c*(12*f+4*c)),b=-2*v*(4*f*c+(1-4*u+3*u*u)*(1+s)+c*(-6+14*u-o+(-8+8*u-2*o)*s)+f*(-8+12*u+(-10+10*u-o)*s)),q=Math.sqrt(d),w=e*(l+c-1)+2*q-r*(4*l+o),m=e*(2*M*s+2*v*(1+s))+b/q-8*v*(e*(-1+c+l)+2*q)*(1+s)/(o+4*l);h-=δ=w/m}while(δ>Ya&&--i>0);return[a(t)*(Math.sqrt(e*e+4)+e)*$a/4,$a/2*h]},(d3.geo.vanDerGrinten4=function(){return rn(Oa)}).raw=Oa;var Rn=function(){var t=4*$a+3*Math.sqrt(3),a=2*Math.sqrt(2*$a*Math.sqrt(3)/t);return m(a*Math.sqrt(3)/$a,a,t/6)}();(d3.geo.wagner4=function(){return rn(Rn)}).raw=Rn,Ua.invert=function(t,a){return[t/Math.sqrt(1-3*a*a/($a*$a)),a]},(d3.geo.wagner6=function(){return rn(Ua)}).raw=Ua,Va.invert=function(t,a){var r=t/2.66723,e=a/1.24104,o=Math.sqrt(r*r+e*e),h=2*n(o/2);return[3*Math.atan2(t*Math.tan(h),2.66723*o),o&&n(a*Math.sin(h)/(1.24104*.90631*o))]},(d3.geo.wagner7=function(){return rn(Va)}).raw=Va,Wa.invert=function(t,a){var r=-.5*(t*t+a*a),e=Math.sqrt(-r*(2+r)),o=a*r+t*e,h=t*r-a*e,i=Math.sqrt(h*h+o*o);return[Math.atan2(e*o,i*(1+r)),i?-n(e*h/i):0]},(d3.geo.wiechel=function(){return rn(Wa)}).raw=Wa,Xa.invert=function(t,a){var n=t,e=a,o=25;do{var h,i=Math.cos(e),u=Math.sin(e),M=Math.sin(2*e),s=u*u,c=i*i,f=Math.sin(n),v=Math.cos(n/2),l=Math.sin(n/2),g=l*l,d=1-c*v*v,b=d?r(i*v)*Math.sqrt(h=1/d):h=0,q=.5*(2*b*i*l+2*n/$a)-t,w=.5*(b*u+e)-a,m=.5*h*(c*g+b*i*v*s)+1/$a,p=h*(f*M/4-b*u*l),S=.125*h*(M*l-b*u*c*f),Q=.5*h*(s*v+b*g*i)+.5,R=p*S-Q*m,T=(w*p-q*Q)/R,y=(q*S-w*m)/R;n-=T,e-=y}while((Math.abs(T)>Ya||Math.abs(y)>Ya)&&--o>0);return[n,e]},(d3.geo.winkel3=function(){return rn(Xa)}).raw=Xa})();